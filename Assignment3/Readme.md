# Third Assignment
This project is the my solution for the [Third Assignment](http://ichatz.me/Site/InternetOfThings2020-Assignment3) of the IoT course in Sapienza University. It consist to replace the MQTT protocol and the short-range wireless medium used in the second assignment developing a new RIOT-OS application that will be executed on the B-L072Z-LRWAN1 LoRa kit using TheThingsNetwork to interconnect the sensor devices with the cloud infrastructure via the MQTT protocol.


## LoRaWAN Station
To simulate the virtual environment stations a RIOT-OS APPLICATION has been created that will be executed on the B-L072Z-LRWAN1 LoRa kit. 


The virtual environment stations, at regular intervals, sends the following data to the TheThingsNetwork:
> 1.  temperature (-50 ... 50 Celsius)
>2.  humidity (0 ... 100%)
>3.  wind direction (0 ... 360 degrees)
>4.  wind intensity (0 ... 100 m/s)
>5.  rain height (0 ... 50 mm / h)

The virtual environmental station uses a unique ID (identity) to publish these random values on TheThingsNetwork via LoRaWAN.

## TheThingsNetwork

[The Things Network](https://www.thethingsnetwork.org) is a global, crowdsourced, open, free and decentralized internet of things network. The network allows for things to connect to the internet using little power and little data. Opening use cases never possible before. It makes use of the LoRaWAN technology. LoRa is a low energy, low bandwidth, long range (over 10km / 6 miles) wireless technology and uses an open data frequency.


##  TTN/Cloud transparent bridge
the TTN/Cloud transparent bridge, by subscribing to station topics in the MQTT broker of TTN, receives the payloads generated by the stations forwarding them to ThingsBoard broker

in this case, it is a python script that connects to the TTN broker, subscribe to the station topics and when the message arrives, using the mqtt_client.py class forwards it to the ThingsBoard broker.


## ThingsBoard
[ThingsBoard](https://thingsboard.io) is an open-source IoT platform for data collection, processing, visualization, and device management. MQTT is a lightweight publish-subscribe messaging protocol which probably makes it the most suitable for various IoT devices. ThingsBoard server nodes act as an MQTT Broker that supports QoS levels 0 (at most once) and 1 (at least once) and a set of predefined topics.

For the completion of the asssignament is sufficient the use of demo thingsboard that offers the use of a MQTT broker, the creation of public devices and public dashboards for the visualization of the data .

##  Web-based Dashboard
Link to Public Dashboard
>https://demo.thingsboard.io/dashboard/ea77c970-6c6f-11ea-8e0a-7d0ef2a682d3?publicId=8ff07230-6a27-11ea-ad02-b3576b7d39f1

## Hands-on Tutorial
Link to Blog Post in Linkedin: 
>link

## Video Demonstration
Link to video demonstration on Youtube:
>link
